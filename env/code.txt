# from googleapiclient.discovery import build
# from googleapiclient.errors import HttpError
# from youtube import YouTube
# import os
# import json

# # Replace with your client secrets file and API key
# CLIENT_FILE = 'client_secrets.json'
# YOUTUBE_API_KEY = 'AIzaSyCd4pbnHnlm2uXkXaEi0J5mvt-OgBs1fN8'

# # Initialize the YouTube class
# yt = YouTube(CLIENT_FILE)

# def create_playlist_and_add_video():
#     # Authenticate and initialize YouTube service
#     yt.init_service(force_reauth=True)
    
#     # Create a playlist
#     response_playlist = yt.create_playlist('My Playlist Title', 'This is a description of my playlist', 'public')
    
#     if not response_playlist:
#         print('Failed to create playlist.')
#         return
    
#     playlist_id = response_playlist.get('id')
#     playlist_title = response_playlist['snippet']['title']
#     print(f'Created playlist "{playlist_title}" with ID {playlist_id}')
    
#     # Search for the video
#     youtube = build('youtube', 'v3', developerKey=YOUTUBE_API_KEY)
    
#     try:
#         search_response = youtube.search().list(
#             q='Moth To A Flame The Weeknd',
#             part='id,snippet',
#             type='video',
#             maxResults=1
#         ).execute()
        
#         items = search_response.get('items', [])
#         if not items:
#             print('No videos found.')
#             return
        
#         video_id = items[0]['id']['videoId']
#         video_title = items[0]['snippet']['title']
#         print(f'Found video "{video_title}" with ID {video_id}')
        
#         # Add the video to the playlist
#         yt.service.playlistItems().insert(
#             part='snippet',
#             body={
#                 'snippet': {
#                     'playlistId': playlist_id,
#                     'resourceId': {
#                         'kind': 'youtube#video',
#                         'videoId': video_id
#                     }
#                 }
#             }
#         ).execute()
        
#         print(f'Added video "{video_title}" to the playlist.')

#     except HttpError as e:
#         print(f'An error occurred: {e}')

# if __name__ == '__main__':
#     create_playlist_and_add_video()